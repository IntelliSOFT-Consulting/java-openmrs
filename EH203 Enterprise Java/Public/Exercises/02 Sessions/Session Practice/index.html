<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>EH203 - Exercises</title>
<link href="../ehsdi.css" rel="stylesheet" type="text/css" />
</head>
<body>
<h1>EH203 - Exercises</h1>
<h2>Sessions</h2>
<p>These basic exercises introduce HTTP sessions.</p>
<h3>1. Creating a session attribute</h3>
<p>To demonstrate how sessions can allow us to share data between requests, create two servlets. The first will be a form with a text field and submit button. When this form is submitted (using POST), the servlet should set the value of a session attribute, like this:</p>
<blockquote>
  <pre>String name = request.getParameter(&quot;name&quot;);
HttpSession session = request.getSession();
session.setAttribute(&quot;name&quot;, name);</pre>
</blockquote>
<p>The second servlet just displays the value of the session attribute.</p>
<div class="solution">Solution: <a href="eh203-sessions/src/eh203/sessions/Exercise01a.java">Exercise01a.java</a>, <a href="eh203-sessions/src/eh203/sessions/Exercise01b.java">Exercise01b.java</a></div>
<h3>2. Session information and invalidation</h3>
<p>Create a servlet which displays the following properties of the current session:</p>
<ul>
  <li>Whether or not it is a new session object</li>
  <li>The time it was created</li>
  <li>The time it was last accessed</li>
  <li>How long before it expires due to inactivity</li>
  <li>The session ID</li>
</ul>
<p>The servlet should also include a form with a single submit button which invalidates the session (hint: handle <code>doPost</code> and call the <code>invalidate()</code> method of the session)</p>
<div class="solution">Solution: <a href="eh203-sessions/src/eh203/sessions/Exercise02.java">Exercise02.java</a></div>
<h3>3. Custom cookie</h3>
<p>Cookies are not just for sessions - they can store any small piece of data. This exercise uses a cookie to store the background color of a page. The user can select a color from a dropdown list. When the form is submitted this is stored as a cookie value. When the page is being displayed, the cookie value is read using code like the following:</p>
<pre>
for (Cookie cookie : request.getCookies()) {
  if (cookie.getName().equals(&quot;bgcolor&quot;)) {
    bgcolor = cookie.getValue();
    break;
  }
}</pre>
<div class="solution">Solution: <a href="eh203-sessions/src/eh203/sessions/Exercise03.java">Exercise03.java</a></div>
</body>
</html>